# カレンダー表示追加(干支と月齢)

カレンダーに月齢と干支の表示を追加してみたいと思います。ざっと考えると、干支の追加の方が簡単そうなので、先ずはこちらから検討してみる事にします

## 干支とは

ソフトウェアとしての実現方法を考える前に、まず干支とは？というものから考えてみます。というのも、筆者は月齢と干支のいずれについても知識が心許(もと)ないのです。先ずは、十二支を並べておきましょう。

| 漢字(読み)       | 動物(読み)   |
| ---------------- | ------------ |
| 子(し・ね)       | 鼠(ねずみ)   |
| 丑(ちゅう・うし) | 牛(うし)     |
| 寅(いん・とら)   | 虎(とら)     |
| 卯(ぼう・う)     | 兎(うさぎ)   |
| 辰(しん・たつ)   | 竜(りゅう)   |
| 巳(し・み)       | 蛇(へび)     |
| 午(ご・うま)     | 馬(うま)     |
| 未(び・ひつじ)   | 羊(ひつじ)   |
| 申(しん・さる)   | 猿(さる)     |
| 酉(ゆう・とり)   | 鶏(にわとり) |
| 戌(じゅつ・いぬ) | 犬(いぬ)     |
| 亥(がい・い)     | 猪(いのしし) |

### 難解な点

私見ですが

- 十二支と干支って何が違うの？
- 十二支の並びが覚えられない

という二点が大きな難関です。前者をWikipediaで見てみると

> 「**えと**」という呼称は本来、十干を「**ひのえ**」「**ひのと**」のように、**兄（え）**と**弟（と）**の組み合わせとして訓読したことに由来するが、今日では、**「干支」（えと）**と言えば十二支のことを指すことが多い

…もはや何がなんだか分からないので、干支と十二支は同じという解釈をする事にします。

### 

次に覚え方ですが、私は

「ねー、うしとら、うー、たつ、みー」

までは大丈夫なのですが、問題はここから先です。もうこれは、こう覚える事にしました

「うまひつじ」

「猿取犬井」

…私の頭のピースにハマってくれたので、しばらくは覚えていられそうです

### 干支の求め方

ネットでは

「西暦から1900を引いて…」

という**1900年以前の干支が求められない**ものやり方が多く紹介されていました。理屈はシンプルで、

「西暦1900年が子(ネズミ)年だから」

なのですが、これでは万年カレンダーで使い物になりません。



取り敢えず、考える為の材料としては以下のようなものがあります

1. 西暦1年は申(さる)年
2. 干支は12年で一回り

これらの情報より、

「西暦に8を足して、12で割った余りが干支の番号」

という計算式が導き出せるのですが、**8を足す**というのがややこしいです。なので、西暦から求める場合は、**干支は申(さる)年スタートで、一巡する**として発想を切り替えてしまう事にします。

```cpp
const char*
calc_eto_fromAD( int year )
{
    // 西暦元年は申(しん・さる)年からスタートするので、
    // 申年スタート版の干支テーブルを作る
    const char* eto_table[] = {
        "申", //  0番目の干支 申(しん・さる)
        "酉", //  1番目の干支 酉(ゆう・とり)
        "戌", //  2番目の干支 戌(じゅつ・いぬ)
        "亥", //  3番目の干支 亥(がい・い)
        "子", //  4番目の干支 子(し・ね)
        "丑", //  5番目の干支 丑(ちゅう・うし)
        "寅", //  6番目の干支 寅(いん・とら)
        "卯", //  7番目の干支 卯(ぼう・う)
        "辰", //  8番目の干支 辰(しん・たつ)
        "巳", //  9番目の干支 巳(し・み)
        "午", // 10番目の干支 午(ご・うま)
        "未", // 11番目の干支 亥(がい・い)
    };    
    return eto_table[ year % 12 ];
} // calc_eto_fromAD()
```





